<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
        <title>BOOT::Signup</title>

        <script type="text/javascript" src="jquery-1.11.3.js"></script>
        <script src="./node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
        <link href="./node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    </head>
    <body>
        <div class="container">
        <div class="row">
        <div class="col-sm-6 col-md-4 col-md-offset-4">
            <h1 class="text-center login-title">Sign Up!</h1>
            <div class="account-wall">
                <form class="form-signin" onsubmit="return FN();">
                    <input id="name" type="text" class="form-control" placeholder="Full Name" required autofocus>
                    <input id="email" type="text" class="form-control" placeholder="Email" required>
                    <input id="user" type="text" class="form-control" placeholder="Enter a username" required>
                    <input id="pass" type="password" class="form-control" placeholder="and a Password" required>
                    <button class="btn btn-lg btn-primary btn-block" type="submit">Sign up!</button>
                </form>
            </div>
            <a href="index.html" class="text-center new-account">Sign In</a>
        </div>
        </div>
        </div>
        <script type="text/javascript">
            function FN(){
                var user = document.getElementById("user");
                var pass = document.getElementById("pass");
                var name = document.getElementById("name");
                var email = document.getElementById("email");
                var d = {user:user.value,pass:pass.value,name:name.value,email:email.value};
                $.ajax({
                    url:"http://127.0.0.1:8000/check",
                    data: d,
                    dataType:'json',
                    type:'POST', 
                    success: function(dat) { 
                        if(dat.error)alert("Error :"+dat.error);
                        else alert("Thanks for SignUp. SignIn now !!");
                        window.location = dat.redirect;
                    },
                    error: function( data ){
                        alert('Error :' + JSON.stringify(data));
                    },
                });
            }
        </script>
    </body>
</html>
